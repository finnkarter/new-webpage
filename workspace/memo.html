<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메모장 - MILBASE</title>
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <style>
        /* 모든 링크 보라색 문제 완전 해결 */
        a, a:link, a:visited, a:hover, a:active {
            color: inherit !important;
            text-decoration: none !important;
        }
        
        .menu-link, .menu-link:link, .menu-link:visited, .menu-link:hover, .menu-link:active,
        .nav-link, .nav-link:link, .nav-link:visited, .nav-link:hover, .nav-link:active {
            color: var(--color-text-muted) !important;
            text-decoration: none !important;
        }
        
        .menu-link.active, .menu-link.active:link, .menu-link.active:visited, .menu-link.active:hover, .menu-link.active:active,
        .nav-link.active, .nav-link.active:link, .nav-link.active:visited, .nav-link.active:hover, .nav-link.active:active {
            color: white !important;
        }
    </style>
    <style>
        .memo-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: var(--space-6);
        }
        
        .memo-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
            flex-wrap: wrap;
            gap: var(--space-4);
        }
        
        .memo-actions {
            display: flex;
            gap: var(--space-3);
            flex-wrap: wrap;
        }
        
        .memo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }
        
        .memo-card {
            background: var(--gradient-card);
            backdrop-filter: blur(12px);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-xl);
            padding: var(--space-4);
            transition: all var(--transition-bounce);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .memo-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-glow);
            opacity: 0;
            transition: opacity var(--transition-normal);
            pointer-events: none;
        }
        
        .memo-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: var(--shadow-colored);
            border-color: var(--primary-400);
        }
        
        .memo-card:hover::before {
            opacity: 0.1;
        }
        
        .memo-card.urgent {
            border-left: 4px solid var(--error);
        }
        
        .memo-card.important {
            border-left: 4px solid var(--warning);
        }
        
        .memo-card.normal {
            border-left: 4px solid var(--color-primary);
        }
        
        .memo-header-info {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-3);
        }
        
        .memo-title {
            font-weight: var(--weight-semibold);
            color: var(--color-text);
            margin-bottom: var(--space-2);
            font-size: var(--text-lg);
        }
        
        .memo-content {
            color: var(--color-text-muted);
            line-height: var(--leading-relaxed);
            margin-bottom: var(--space-3);
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
        
        .memo-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--text-sm);
            color: var(--color-text-subtle);
        }
        
        .memo-tag {
            background: var(--color-card);
            color: var(--color-text);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-md);
            font-size: var(--text-xs);
            border: 1px solid var(--color-border);
        }
        
        .priority-badge {
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-md);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
        }
        
        .priority-urgent {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
            border: 1px solid var(--error);
        }
        
        .priority-important {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
            border: 1px solid var(--warning);
        }
        
        .priority-normal {
            background: rgba(59, 130, 246, 0.1);
            color: var(--color-primary);
            border: 1px solid var(--color-primary);
        }
        
        .memo-toolbar {
            display: flex;
            gap: var(--space-2);
        }
        
        .toolbar-btn {
            width: 32px;
            height: 32px;
        }
        
        .search-box {
            max-width: 400px;
            font-size: var(--text-sm);
        }
        
        .empty-state {
            text-align: center;
            padding: var(--space-12);
            color: var(--color-text-muted);
        }
        
        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: var(--space-4);
        }
        
        .back-btn {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            color: var(--color-text-muted);
            text-decoration: none;
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-lg);
            transition: all var(--transition-fast);
        }
        
        .back-btn:hover {
            background: var(--color-card);
            color: var(--color-text);
        }
        
        @media (max-width: 768px) {
            .memo-container {
                padding: var(--space-4);
            }
            
            .memo-grid {
                grid-template-columns: 1fr;
            }
            
            .memo-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .memo-actions {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html" class="back-btn">
                        <span>←</span>
                        <span>뒤로</span>
                    </a>
                </div>
                
                <div class="logo">
                    <span class="logo-icon">📝</span>
                    <span class="logo-text">메모장</span>
                </div>
                
                <div class="header-actions">
                    <button class="btn-icon" id="themeToggle" title="테마 변경">
                        <span class="icon">🌙</span>
                    </button>
                    <button class="btn-icon" id="menuToggle" title="메뉴">
                        <span class="hamburger">
                            <span></span>
                            <span></span>
                            <span></span>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="memo-container">
            <!-- Memo Header -->
            <div class="memo-header">
                <h1 class="section-title" style="margin: 0;">나의 메모</h1>
                <div class="memo-actions">
                    <input type="text" class="search-box" id="searchInput" placeholder="메모 검색...">
                    <button class="action-btn primary" id="addMemoBtn">
                        <span class="action-icon">➕</span>
                        새 메모
                    </button>
                    <button class="action-btn secondary" id="sortBtn">
                        <span class="action-icon">🔄</span>
                        정렬
                    </button>
                </div>
            </div>

            <!-- Memo Grid -->
            <div class="memo-grid" id="memoGrid">
                <!-- 메모 카드들이 여기에 동적으로 추가됩니다 -->
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-state-icon">📝</div>
                <h3>아직 메모가 없습니다</h3>
                <p>첫 번째 메모를 작성해보세요!</p>
                <button class="action-btn primary" style="margin-top: var(--space-4);" onclick="window.memoApp?.showMemoEditor()">
                    <span class="action-icon">➕</span>
                    새 메모 작성
                </button>
            </div>
        </div>
    </main>

    <!-- Side Menu -->
    <nav class="sidemenu" id="sideMenu">
        <div class="sidemenu-header">
            <h3>메뉴</h3>
            <button class="btn-icon" id="menuClose">
                <span class="icon">✕</span>
            </button>
        </div>
        <div class="sidemenu-content">
            <ul class="menu-list">
                <li>
                    <a href="index.html" class="menu-link">
                        <span class="menu-icon">🏠</span>
                        <span class="menu-text">대시보드</span>
                    </a>
                </li>
                <li>
                    <a href="discharge-calculator.html" class="menu-link">
                        <span class="menu-icon">⏰</span>
                        <span class="menu-text">전역 계산기</span>
                    </a>
                </li>
                <li>
                    <a href="memo.html" class="menu-link active">
                        <span class="menu-icon">📝</span>
                        <span class="menu-text">메모장</span>
                    </a>
                </li>
                <li>
                    <a href="games.html" class="menu-link">
                        <span class="menu-icon">🎮</span>
                        <span class="menu-text">미니게임</span>
                    </a>
                </li>
                <li>
                    <a href="vacation.html" class="menu-link">
                        <span class="menu-icon">🏖️</span>
                        <span class="menu-text">휴가관리</span>
                    </a>
                </li>

            </ul>
            <div class="menu-footer">
                <div class="app-info">
                    <div class="app-version">MILBASE v1.2.0</div>
                    <div class="app-status" id="connectionStatus" data-status="offline">
                        <span class="status-dot" aria-hidden="true" style="display:inline-block;width:6px;height:6px;border-radius:50%;background:var(--warning);margin-right:6px;"></span>
                        <span>오프라인 모드</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/components.js"></script>
    <script src="js/memo.js"></script>
</body>
</html>
